{% extends 'front/base.html' %}
{% load addon_filters %}
{% block content %}

<title>{{album.name}} | {{settings.title}}</title>
<meta name="description" content="{{album.meta_desc}}" />
<meta name="keywords" content="{{album.meta_tags}}" />
<style>
.album-cover-grad img {
    -webkit-mask-image:-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)));
    object-fit:cover;
    object-position: 35% 65%;
    height:400px;
    width:100%;
  }
  .centered-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
</style>
<div class="gallery">
    {% if album.cover_visible %}
    {% if album.cover %}
    <div class="album-cover-grad">
        <img src="{{album.cover.url}}">
    </div>
    {% endif %}
    {% endif %}
    <h{{settings.title_size}} class="uk-text-bolder footer uk-animation-fade">{{ settings.title_delimiter }} {{ album.name|upper }} {{ settings.title_delimiter }}</h{{settings.title_size}}>
    {% if album.desc_visible %}
    <blockquote class="footer" style="padding: 0 3% 0 3%">
        <p class="uk-margin-small-bottom"><q>{{album.desc}}</q></p>
    </blockquote>
    {% endif %}

    <div class="uk-child-width-1-{% if album.cols_count_s %}{{album.cols_count_s}}{% else %}2{% endif %}@s uk-child-width-1-{% if album.cols_count_m %}{{album.cols_count_m}}{% else %}3{% endif %}@m uk-text-center uk-grid-{% if album.cols_gap %}{{album.get_cols_gap_display}}{% else %}small{% endif %}" uk-grid="masonry: false" uk-lightbox="animation:{% if album.transition_anim %}{{album.get_transition_anim_display}}{% else %} scale{% endif %};">
        {% for image in images %}
        {% if not image.ytvideo %}
        <div>
            <a href="{{ image.image.url }}"
               data-caption="
            {% if image.latitude %}&lt;a href=&quot;https://www.google.com/maps/place/{{image.latitude|replace_commas_with_periods}},{{image.longitude|replace_commas_with_periods}}&quot;&gt;&lt;u&gt;GEO Location Data&lt;/u&gt;&lt;/a&gt;{% endif %}
            {{image.name|default_if_none:''}}
            {{image.camera_manufacturer|default_if_none:''}}
            {{image.camera_model|default_if_none:''}}
            {{image.focal_length|default_if_none:''}}
            {{image.exposure_time|default_if_none:''}}
            {{image.f_number|default_if_none:''}}
            {{image.iso_speed|default_if_none:''}}
            {{image.date_taken|date:'d-m-Y'|default_if_none:''}}
            ">
                <div class="uk-card uk-card-default uk-card-body card-md"
                     style="background-image: url({{ image.thumbnail.url }});border-radius:{% if album.imaglse_border_radius %}{{album.image_border_radius}}{% else %}0{% endif %}px;" uk-scrollspy="cls: uk-animation-fade; repeat: false"></div>
            </a>
        </div>
        {% else %}
        <div>
            <a href="{{ image.ytvideo }}"
               data-caption="{{image.name|default_if_none:''}}">
                <div class="uk-card uk-card-default uk-card-body card-md"
                     loading="lazy"
                     style="background-image: url({{ image.thumbnail.url }});border-radius:{% if album.imaglse_border_radius %}{{album.image_border_radius}}{% else %}0{% endif %}px;" uk-scrollspy="cls: uk-animation-fade; repeat: false">
                    <svg class="centered-icon" xmlns="http://www.w3.org/2000/svg" height="6em" fill="red" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
                </div>
            </a>
        </div>
        {% endif %}

        {% endfor %}
    </div>
</div>
{% endblock %}
{% block copyright %}
{{settings.copyright}}
{% endblock %}
